{"ast":null,"code":"import _objectSpread from \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/src/Rooms.js\";\nimport React, { useState, useEffect } from 'react';\nimport SidebarItem from './SidebarItem';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Rooms() {\n  const _useState = useState({\n    rooms: [],\n    newRoom: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const createRoom = event => {\n    event.preventDefault();\n    axios.post('http://localhost:8000/rooms', {\n      name: data.newRoom\n    }).then(() => {\n      setData({\n        rooms: [...data.rooms],\n        newRoom: ''\n      });\n      loadRooms();\n    });\n  };\n\n  const loadRooms = () => {\n    return axios.get('http://localhost:8000/rooms').then(response => setData({\n      rooms: response.data\n    }));\n  };\n\n  const deleteRoom = name => {\n    axios.delete('http://localhost:8000/rooms/' + name).then(() => {\n      loadRooms();\n    });\n  };\n\n  useEffect(() => {\n    loadRooms();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"row justify-content-center h-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12 col-xl-12 chat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card card-rooms\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header msg_head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-flex bd-highlight\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"user_info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Rooms\")))), React.createElement(\"div\", {\n    className: \"card-body msg_card_body\",\n    id: \"card-bodyId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navbar-menu-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"navbar-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, data.rooms.map(room => {\n    React.createElement(\"li\", {\n      className: \"room\",\n      key: room.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: '/rooms/' + room.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, room.name), React.createElement(\"button\", {\n      className: \"remove-room-button\",\n      onClick: () => deleteRoom(room.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))); // return <SidebarItem room={room} key={room.name} onDelete={() => loadRooms()} />\n  })))), React.createElement(\"div\", {\n    className: \"card-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: createRoom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Room\",\n    required: true,\n    value: data.newRoom,\n    onChange: event => setData(_objectSpread({}, data, {\n      newRoom: event.target.value\n    })),\n    style: {\n      top: 0,\n      left: 0\n    },\n    spellCheck: \"false\",\n    maxLength: 10,\n    className: \"type_msg form-control form-control-rooms \",\n    placeholder: \"Create a room...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"input-group-text send_btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-plus\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })))))))));\n}\n\nexport default Rooms;","map":{"version":3,"sources":["/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/src/Rooms.js"],"names":["React","useState","useEffect","SidebarItem","NavLink","axios","Rooms","rooms","newRoom","data","setData","createRoom","event","preventDefault","post","name","then","loadRooms","get","response","deleteRoom","delete","map","room","target","value","top","left"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SidebarItem from './SidebarItem';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\n\n\n\nfunction Rooms() {\n    const [data, setData] = useState({\n        rooms: [],\n        newRoom: '',\n    });\n\n    const createRoom = (event) => {\n        event.preventDefault();\n        axios.post('http://localhost:8000/rooms', {\n            name: data.newRoom\n        })\n            .then(() => {\n                setData({\n                    rooms: [...data.rooms],\n                    newRoom: ''\n                })\n                loadRooms();\n            })\n    }\n\n    const loadRooms = () => {\n        return axios.get('http://localhost:8000/rooms')\n            .then(response => setData({\n                rooms: response.data\n            }))\n\n    }\n    const deleteRoom = (name) => {\n        axios.delete('http://localhost:8000/rooms/' + name)\n            .then(() => {\n                loadRooms();        \n            })\n    }\n    useEffect(() => {\n        loadRooms();\n    }, []);\n\n    return (\n        <div className=\"row justify-content-center h-100\">\n            <div className=\"col-md-12 col-xl-12 chat\">\n                <div className=\"card card-rooms\" >\n                    <div className=\"card-header msg_head\">\n                        <div className=\"d-flex bd-highlight\">\n                            <div className=\"user_info\">\n                                <span>Rooms</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"card-body msg_card_body\" id=\"card-bodyId\">\n                        <div className='navbar-menu-container'>\n                            <ul className='navbar-menu'>\n                                {data.rooms.map(room => {\n                                         <li className='room' key={room.name}>\n                                         <NavLink to={'/rooms/'+room.name}>{room.name}</NavLink>\n                                             <button className='remove-room-button' onClick={() => deleteRoom(room.name)}><i className=\"fas fa-trash\"></i></button>\n                                         </li>\n                                 \n                                 // return <SidebarItem room={room} key={room.name} onDelete={() => loadRooms()} />\n                                })}\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"card-footer\">\n                        <div className=\"input-group\">\n                            <form onSubmit={createRoom}>\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Room\"\n                                    required\n                                    value={data.newRoom}\n                                    onChange={event => setData({ ...data, newRoom: event.target.value })}\n                                    style={{ top: 0, left: 0 }}\n                                    spellCheck='false'\n                                    maxLength={10}\n                                    className=\"type_msg form-control form-control-rooms \" placeholder=\"Create a room...\"></input>\n                                <div className=\"input-group-append\">\n                                    <button type='submit' className=\"input-group-text send_btn\"><i className=\"fas fa-plus\"></i></button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    );\n}\n\nexport default Rooms;"]},"metadata":{},"sourceType":"module"}