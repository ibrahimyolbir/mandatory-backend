{"ast":null,"code":"import _objectSpread from \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/src/Rooms.js\";\nimport React, { useState, useEffect } from 'react';\nimport SidebarItem from './SidebarItem';\nimport axios from 'axios';\n\nfunction Rooms() {\n  const _useState = useState({\n    rooms: [],\n    newRoom: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const createRoom = event => {\n    event.preventDefault();\n    axios.post('http://localhost:8000/rooms', {\n      name: data.newRoom\n    }).then(() => {\n      setData({\n        rooms: [...data.rooms],\n        newRoom: ''\n      });\n      loadRooms();\n    });\n  };\n\n  const loadRooms = () => {\n    return axios.get('http://localhost:8000/rooms').then(response => setData({\n      rooms: response.data\n    }));\n  };\n\n  useEffect(() => {\n    loadRooms();\n  }, []);\n  return React.createElement(\"nav\", {\n    className: \"navbar-rooms\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: createRoom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"add-room-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"add-room\",\n    value: data.newRoom,\n    onChange: event => setData(_objectSpread({}, data, {\n      newRoom: event.target.value\n    })),\n    placeholder: \"#room\",\n    spellCheck: \"false\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"add-room-button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"add\"))), React.createElement(\"div\", {\n    className: \"navbar-menu-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"navbar-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, data.rooms.map(room => {\n    return React.createElement(SidebarItem, {\n      room: room,\n      key: room.name,\n      onDelete: () => loadRooms(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n  }))));\n}\n\nexport default Rooms;","map":{"version":3,"sources":["/Users/ibrahimyolbir/Desktop/Ec-utbildning/mandatory-Backend-Nodejs/chatapp/src/Rooms.js"],"names":["React","useState","useEffect","SidebarItem","axios","Rooms","rooms","newRoom","data","setData","createRoom","event","preventDefault","post","name","then","loadRooms","get","response","target","value","map","room"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,KAAT,GAAiB;AAAA,oBACWJ,QAAQ,CAAC;AAC7BK,IAAAA,KAAK,EAAE,EADsB;AAE7BC,IAAAA,OAAO,EAAE;AAFoB,GAAD,CADnB;AAAA;AAAA,QACNC,IADM;AAAA,QACAC,OADA;;AAMb,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACAR,IAAAA,KAAK,CAACS,IAAN,CAAW,6BAAX,EAA0C;AACtCC,MAAAA,IAAI,EAAEN,IAAI,CAACD;AAD2B,KAA1C,EAGCQ,IAHD,CAGM,MAAM;AACRN,MAAAA,OAAO,CAAC;AACJH,QAAAA,KAAK,EAAE,CAAC,GAAGE,IAAI,CAACF,KAAT,CADH;AAEJC,QAAAA,OAAO,EAAE;AAFL,OAAD,CAAP;AAIAS,MAAAA,SAAS;AACZ,KATD;AAUH,GAZD;;AAcA,QAAMA,SAAS,GAAG,MAAM;AACpB,WAAOZ,KAAK,CAACa,GAAN,CAAU,6BAAV,EACFF,IADE,CACGG,QAAQ,IAAIT,OAAO,CAAC;AACtBH,MAAAA,KAAK,EAAEY,QAAQ,CAACV;AADM,KAAD,CADtB,CAAP;AAKH,GAND;;AAQAN,EAAAA,SAAS,CAAC,MAAM;AACbc,IAAAA,SAAS;AACX,GAFQ,EAEN,EAFM,CAAT;AAIA,SACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEN,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,SAAS,EAAC,UAAjB;AAA4B,IAAA,KAAK,EAAEF,IAAI,CAACD,OAAxC;AAAiD,IAAA,QAAQ,EAAEI,KAAK,IAAIF,OAAO,mBAAKD,IAAL;AAAWD,MAAAA,OAAO,EAAEI,KAAK,CAACQ,MAAN,CAAaC;AAAjC,OAA3E;AAAqH,IAAA,WAAW,EAAC,OAAjI;AAAyI,IAAA,UAAU,EAAC,OAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,CADJ,CADJ,EAOI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKZ,IAAI,CAACF,KAAL,CAAWe,GAAX,CAAeC,IAAI,IAAI;AACpB,WAAO,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAEA,IAAnB;AAAyB,MAAA,GAAG,EAAEA,IAAI,CAACR,IAAnC;AAAyC,MAAA,QAAQ,EAAE,MAAME,SAAS,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFA,CADL,CADJ,CAPJ,CADJ;AAiBH;;AAED,eAAeX,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SidebarItem from './SidebarItem';\nimport axios from 'axios';\n\nfunction Rooms() {\n    const [data, setData] = useState({\n        rooms: [],\n        newRoom: '',\n    });\n\n    const createRoom = (event) => {\n        event.preventDefault();\n        axios.post('http://localhost:8000/rooms', {\n            name: data.newRoom\n        })\n        .then(() => {\n            setData({\n                rooms: [...data.rooms],\n                newRoom: ''\n            })\n            loadRooms();\n        })\n    }\n\n    const loadRooms = () => {\n        return axios.get('http://localhost:8000/rooms')\n            .then(response => setData({\n                rooms: response.data\n            }))    \n            \n    }\n\n    useEffect(() => {\n       loadRooms();\n    }, []);\n    \n    return (\n        <nav className='navbar-rooms'>\n            <form onSubmit={createRoom}>\n                <div className='add-room-container'>\n                    <input className='add-room' value={data.newRoom} onChange={event => setData({...data, newRoom: event.target.value})} placeholder='#room' spellCheck='false'></input>\n                    <button className='add-room-button' type='submit'>add</button> \n                </div>\n            </form>\n            <div className='navbar-menu-container'>\n                <ul className='navbar-menu'>\n                    {data.rooms.map(room => {\n                        return <SidebarItem room={room} key={room.name} onDelete={() => loadRooms()} />\n                    })}\n                </ul>\n            </div>\n        </nav>\n    );\n}\n\nexport default Rooms;"]},"metadata":{},"sourceType":"module"}